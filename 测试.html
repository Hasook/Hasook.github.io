<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilibili用户信息查询</title>
</head>
<body>
    <h1>Bilibili用户信息查询</h1>
    <label for="username">请输入Bilibili用户名：</label>
    <input type="text" id="username">
    <button onclick="getUserInfo()">查询</button>
    <div id="userInfo"></div>

    <script>
        async function getUserInfo() {
            const username = document.getElementById('username').value;
            const userInfoDiv = document.getElementById('userInfo');
            userInfoDiv.innerHTML = '';

            try {
                const response = await fetch(`https://api.bilibili.com/x/space/acc/info?mid=${username}&jsonp=jsonp`);
                const data = await response.json();

                if (data.code === 0) {
                    const userInfo = data.data;
                    userInfoDiv.innerHTML = `
                        <h2>${userInfo.name}的信息：</h2>
                        <p>粉丝量：${userInfo.follower}</p>
                        <p>投稿数：${userInfo.article_count}</p>
                    `;
                } else {
                    userInfoDiv.textContent = '未找到该用户，请检查用户名是否正确。';
                }
            } catch (error) {
                console.error('Error fetching user info:', error);
                userInfoDiv.textContent = '查询用户信息时出错，请稍后再试。';
            }
        }
    </script>
</body>
</html>